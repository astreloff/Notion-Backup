<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Установка, настройка и обновление веб-интерфейса (AUTOMATIC 1111 WebUI)</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="6db6564f-2c42-4ff3-90f3-7a094daf74cb" class="page sans"><header><div class="page-header-icon undefined"><img class="icon" src="https://www.notion.so/icons/save_gray.svg"/></div><h1 class="page-title">Установка, настройка и обновление веб-интерфейса (AUTOMATIC 1111 WebUI)</h1></header><div class="page-body"><nav id="ab6d821b-0657-4598-9639-cc04d897fb87" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#bd04bc80-fbfc-4e41-8e9e-d1845059151c">🔽 Установка WebUI</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#267f57b8-1f9d-4655-bd16-9894f1f7a116">*️⃣ Оптимизация WebUI</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#9be4af26-d50b-4876-ba01-8916eaa77f5c">*️⃣ Настройка WebUI</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#84420ca3-8637-4008-abc2-cb0ac9f3363f">🔄 Обновление WebUI</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#eeb4b07f-9646-4eb5-ac55-2b119764a7e6">💾 Бэкап версии WebUI</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#853ebc7c-8e01-47a9-842a-2c272e1b5748">🐞 Решение возникающих ошибок</a></div></nav><h1 id="bd04bc80-fbfc-4e41-8e9e-d1845059151c" class="">🔽 Установка WebUI</h1><p id="6f8292c8-1ea8-4500-91e7-5923628a6c1e" class=""><strong>Устанавливаем зависимости</strong><div class="indented"><ol type="1" id="0d4b8f8c-e7af-4101-bc2d-b1c07091aa35" class="numbered-list" start="1"><li>Устанавливаем требуемую версию Python (<a href="https://www.python.org/downloads/">Ссылка</a>).
<strong>Примечание: </strong>При установке отличающейся версии могут возникнуть проблемы.<ol type="a" id="8f6031c7-3770-4b58-8ca9-526e983c6f2d" class="numbered-list" start="1"><li>Ставим галочку <code>Add Python to PATH</code>.</li></ol></li></ol><ol type="1" id="a623e4e8-97ae-4f4f-bcca-941cd6b1c7d7" class="numbered-list" start="2"><li>Устанавливаем GIT для легкого скачивания и автоматического обновления WebUI из репозитория (<a href="https://git-scm.com/download/win">Ссылка</a>).
<strong>Примечание:</strong> При необходимости, создать аккаунт.<ol type="a" id="c2abdd8d-79b5-45dd-9d8c-9dc521f2377e" class="numbered-list" start="1"><li>Ставим галочку <code>Explorer integration → Git Bash</code>.</li></ol></li></ol></div></p><p id="e180e514-4a1f-4885-9d4f-886cd3094528" class=""><strong>Устанавливаем WebUI</strong>
<strong>Примечание:</strong> В данном случае устанавливается вариант от AUTOMATIC1111.<div class="indented"><ol type="1" id="6e68ec73-76bb-4cb1-8aad-3801bd497267" class="numbered-list" start="1"><li>Переходим в необходимую папку для установки.</li></ol><ol type="1" id="cffa9b2f-0fa1-4902-a1b8-f29605d9cc0f" class="numbered-list" start="2"><li>Вводим в адресной строке <code>cmd</code> для открытия консоли в текущей директории.</li></ol><ol type="1" id="f3b6cd84-1755-47c5-abeb-ccfa05d16a1a" class="numbered-list" start="3"><li>Вводим команду для скачивания WebUI из GIT-репозитория.
<code>git clone https://github.com/AUTOMATIC1111/stable-diffusion-webui.git</code></li></ol></div></p><hr id="d8f0ba67-9c4f-48a6-81c0-6d023344f1ef"/><p id="7b0a82ec-373f-4af0-a9ec-269e992a7751" class=""><strong>Альтернативный вариант</strong></p><ol type="a" id="88269410-d920-4501-95c8-7e1b8bcf9005" class="numbered-list" start="1"><li>Переходим в необходимую папку для установки.</li></ol><ol type="a" id="eaa52db8-8db6-4396-8c4a-ad1d834a8caf" class="numbered-list" start="2"><li>Правой кнопкой мыши щелкните в любом месте и выберите <code>Get Bash Here</code>.</li></ol><ol type="a" id="b1d4a02d-3397-43ef-bc0c-26694f1d2373" class="numbered-list" start="3"><li>Вводим команду <code>git clone https://github.com/AUTOMATIC1111/stable-diffusion-webui</code>.</li></ol><ol type="a" id="d25b3999-c403-4ebd-8a8d-842ef7e083d8" class="numbered-list" start="4"><li>Переименуйте файл <code>.ckpt</code> в <code>model.ckpt</code> и поместите его в папку <code>/models/Stable-diffusionfolder</code>
<strong>Примечание:</strong> Модель с именем <code>model.ckpt</code> будет загружаться по умолчанию.</li></ol><p id="c477cb09-7219-4a10-b66d-fdb868ad778f" class=""><strong>Скачать модели и представления </strong><strong><a href="%D0%9C%D0%BE%D0%B4%D0%B5%D0%BB%D0%B8%20%D0%B8%20%D0%BF%D1%80%D0%B5%D0%B4%D1%81%D1%82%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F%203dd4646932db4909a9851d1fc07505f0.html"><img class="icon" src="https://www.notion.so/icons/science_gray.svg"/>Модели и представления</a></strong><strong>.</strong><div class="indented"><ol type="1" id="3fc5876e-2899-491f-bd0a-3e91e4645d6e" class="numbered-list" start="1"><li>Модели (models) перемещаются в папку <code>stable-diffusion-webui\models\Stable-diffusion</code>.</li></ol><ol type="1" id="5aac2891-40d7-4eb5-a928-172e471e2852" class="numbered-list" start="2"><li>Представления (embeddings) перемещаются в папку <code>stable-diffusion-webui\embeddings</code> и выбираются при генерации.</li></ol></div></p><p id="94a81454-4d18-49bb-9271-a37359006269" class=""><strong>Установить модели для upscale</strong></p><ol type="1" id="40e6da1b-f03f-482d-be3d-864a4b7de141" class="numbered-list" start="1"><li>Загрузить интересующие модели и положить их в <code>/models/realesrgan</code>. (<a href="https://upscale.wiki/wiki/Official_Research_Models">https://upscale.wiki/wiki/Official_Research_Models</a>)<ol type="a" id="320e749b-b683-485e-b397-05a8113c8445" class="numbered-list" start="1"><li><strong>Опционально:</strong> Загрузить другие модели:<p id="dfcd032a-3d4b-441a-a2f4-4f4f2fa17603" class=""><strong>GFPGAN</strong></p><ol type="1" id="703ea5e6-1157-4953-8bd0-3b45e2d694c4" class="numbered-list" start="1"><li>If you want to use GFPGAN to improve generated faces, you need to install it separately.</li></ol><ol type="1" id="f3c83588-7bbd-4be5-8e7d-f6e0bac78b1a" class="numbered-list" start="2"><li>Download <a href="https://github.com/TencentARC/GFPGAN/releases/download/v1.3.0/GFPGANv1.3.pth">GFPGANv1.3.pth</a> and <a href="https://github.com/TencentARC/GFPGAN/releases/download/v1.3.4/GFPGANv1.4.pth">GFPGANv1.4.pth</a> and put it into the <code>/models/gfpgan</code> directory.</li></ol><p id="9096740b-edcc-463a-b44c-31c5a3b4ff84" class=""><strong>RealESRGAN</strong></p><ol type="1" id="493f6a5e-2290-4b2b-b5e3-54541f90d270" class="numbered-list" start="1"><li>Download <a href="https://github.com/xinntao/Real-ESRGAN/releases/download/v0.1.0/RealESRGAN_x4plus.pth">RealESRGAN_x4plus.pth</a> and <a href="https://github.com/xinntao/Real-ESRGAN/releases/download/v0.2.2.4/RealESRGAN_x4plus_anime_6B.pth">RealESRGAN_x4plus_anime_6B.pth</a>.</li></ol><ol type="1" id="c8b7a5f2-627c-4087-9f1a-2a329473d4f2" class="numbered-list" start="2"><li>Put them into the <code>/models/realesrgan</code> directory.</li></ol></li></ol></li></ol><h1 id="267f57b8-1f9d-4655-bd16-9894f1f7a116" class="">*️⃣ Оптимизация WebUI</h1><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="f0853846-1412-472f-b629-f31fd5df648d"><div style="font-size:1.5em"><img class="icon" src="https://www.notion.so/icons/help-alternate_red.svg"/></div><div style="width:100%">When xformers is enabled image generation can be faster, but can also lead to image generation no longer being deterministic.
That means if you generate an image with the exact same settings as before the new image may be slightly different</div></figure><ol type="1" id="ce7dcb0e-cd29-4a14-bc97-4fafacc6f5cc" class="numbered-list" start="1"><li>Оптимизируем выполнение модели путем уменьшения потребляемой VRAM:
<strong>Примечание:</strong> Это уменьшает объем VRAM и позволяет генерировать изображения с большим разрешением или размером пачки (batch), при этом скорость генерации снижается на ~10%.
(Для меня результаты одиночной генерации были немного медленнее, но генерация с размером пачки = 4 сделала каждый результат в среднем на 25% быстрее).<ol type="a" id="7e038550-de63-47d4-b77c-483a9adce6a9" class="numbered-list" start="1"><li>В файле <code>webui-user.bat</code> добавить в список параметров <code>COMMANDLINE_ARGS=</code> значение <code>--medvram</code>.</li></ol></li></ol><ol type="1" id="c1ee16b4-c759-441b-939f-90624628fba0" class="numbered-list" start="2"><li>Оптимизируем выполнение модели, добавив в файл <code>webui-user.bat</code> в список параметров <code>COMMANDLINE_ARGS=</code> значение <code>--xformers</code>.</li></ol><figure id="6f4a47f5-6420-4140-b81b-c28ce476e67f"><a href="https://www.youtube.com/watch?v=ZVqalCax6MA" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">Install XFormers in one click and run Stable Diffusion at least 1.5x faster</div></div><div class="bookmark-href"><img src="https://www.google.com/favicon.ico" class="icon bookmark-icon"/>https://www.youtube.com/watch?v=ZVqalCax6MA</div></div><img src="https://i.ytimg.com/vi/ZVqalCax6MA/hqdefault.jpg" class="bookmark-image"/></a></figure><figure id="5a5363a5-8ca8-4b41-8ff8-72b0899bdfb7"><a href="https://www.photoroom.com/tech/stable-diffusion-100-percent-faster-with-memory-efficient-attention/" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">Make stable diffusion up to 100% faster with Memory Efficient Attention | PhotoRoom Tech Blog</div><div class="bookmark-description">At PhotoRoom we build photo editing apps, and being able to generate what you have in mind is a superpower. Diffusion models are a recent take on this, based on iterative steps: a pipeline runs recursive operations starting from a noisy image until it generates the final high-quality image.</div></div><div class="bookmark-href"><img src="https://www.photoroom.com/tech/img/favicon_.png" class="icon bookmark-icon"/>https://www.photoroom.com/tech/stable-diffusion-100-percent-faster-with-memory-efficient-attention/</div></div><img src="https://www.photoroom.com/tech/stable-diffusion-100-percent-faster-with-memory-efficient-attention/Screen_Shot_2022-09-22_at_2.17.06_PM.jpg" class="bookmark-image"/></a></figure><h1 id="9be4af26-d50b-4876-ba01-8916eaa77f5c" class="">*️⃣ Настройка WebUI</h1><ol type="1" id="b7fc20e6-b2bb-43da-90fa-e423fd4e964e" class="numbered-list" start="1"><li>Устанавливаем <a href="%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D1%8B%20(%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D1%8B)%2025c958b77ef745c4b01900959d2554d7.html"><img class="icon" src="https://www.notion.so/icons/puzzle_gray.svg"/>Плагины (скрипты)</a>.</li></ol><ol type="1" id="2f7973d0-23fb-498e-88c2-7941684517fb" class="numbered-list" start="2"><li>Открываем доступ для пользователей по ссылке, изменив строку <code>demo.launch(</code>
на <code>demo.launch(share=True)(</code> в файл <code>webui.py in \stable-diffusion</code>.<ol type="a" id="da36358c-7e97-4490-9d8d-b35b0ff12bb5" class="numbered-list" start="1"><li>При запуске файла <code>webui.bat</code> в консоли отобразится ссылка, которая будет активная в течение 72 часов.</li></ol></li></ol><ol type="1" id="0510a35f-c3d5-4348-b365-0b60fc63c824" class="numbered-list" start="3"><li>Включаем автоматическое открытие WebUI при завершении загрузки консоли, добавив в файл <code>webui-user.bat</code> в список параметров <code>COMMANDLINE_ARGS=</code> значение <code>--autolaunch</code>.</li></ol><ol type="1" id="8f84a40f-4304-40f6-a46a-af70451f8144" class="numbered-list" start="4"><li>Включаем визуальное отображение генерации изображения, перейдя на вкладку Settings и в пункте Show image creation progress every N sampling steps поменять значение с <code>0</code> на <code>1</code>.</li></ol><h1 id="84420ca3-8637-4008-abc2-cb0ac9f3363f" class="">🔄 Обновление WebUI</h1><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="26b8fe8d-66e5-47e1-9369-44e968bad7d2"><div style="font-size:1.5em"><img class="icon" src="https://www.notion.so/icons/info-alternate_gray.svg"/></div><div style="width:100%">Следить за обновлениями можно на сайте <a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/commits/master">https://github.com/AUTOMATIC1111/stable-diffusion-webui/commits/master</a></div></figure><ol type="1" id="8be302bd-2e8b-4b98-9ad5-76b360965ceb" class="numbered-list" start="1"><li>Перейти в папку <code>stable-diffusion-webui</code>, открыть консоль в этой директории и выполнить команду <code>git pull</code>.</li></ol><ol type="1" id="c1bab622-343c-4db4-95d0-16c21072abe6" class="numbered-list" start="2"><li><strong>ИЛИ </strong>В файле <code>webui-user.bat</code> добавить команду <code>git pull</code> перед строкой с <code>call webui.bat</code>.
<strong>Примечание:</strong> Можно создать копию файла <code>webui-user.bat</code> и добавить команду <code>git pull</code>, чтобы иметь отдельный файл для обновления.</li></ol><h1 id="eeb4b07f-9646-4eb5-ac55-2b119764a7e6" class="">💾 Бэкап версии WebUI</h1><ol type="1" id="6788a1be-8e07-49de-a73e-bd0ea69d18d2" class="numbered-list" start="1"><li>Перейти в папку <code>stable-diffusion-webui</code>, открыть консоль в этой директории и выполнить команду <code>git log</code> для просмотра списка изменений.</li></ol><ol type="1" id="c21b6121-49f8-41f3-8569-76d04e5231f8" class="numbered-list" start="2"><li>Выполнить команду <code>git checkout &lt;commit hash&gt;</code> для перехода на выбранную ветку изменений.<ol type="a" id="6c71cbae-4bc6-4745-a3fa-47dd6976d64a" class="numbered-list" start="1"><li><strong>Опционально:</strong> Выполнить команду <code>git checkout main</code> для возвращения на основную ветку.</li></ol></li></ol><ol type="1" id="bb4237f8-854d-4b07-8a11-adfe0098034a" class="numbered-list" start="3"><li>Выполнить команду <code>git tag</code> для просмотра коммитов или <code>git log -p</code> для просмотра изменений выбранной ветки.</li></ol><ol type="1" id="e31546c2-18c1-4bb5-8686-de46ffb81a7d" class="numbered-list" start="4"><li>Выполнить команду <code>git tag &lt;name&gt;</code> для сохранения коммита выбранной ветки.</li></ol><ol type="1" id="31580ea2-23de-468a-a393-bcdd1e4b2b40" class="numbered-list" start="5"><li>Выполнить команду <code>git checkout &lt;tag name&gt;</code> для переключения на сохраненный коммит.</li></ol><p id="af4bb515-ab6c-4d3f-8723-f2da170cd184" class=""><strong>Пример команд:</strong></p><pre id="8a595e46-7cc1-4f66-9473-b8bc7af6c7ba" class="code code-wrap"><code>git log # show commit history
git tag my-working-prompt # tag the current commit
git pull # get new changes on the main branch
git checkout 69ae4b35e0a0f # go back to this old commit
git checkout my-working-prompt # go to your tagged commit
git checkout main # return to updated main branch
</code></pre><h1 id="853ebc7c-8e01-47a9-842a-2c272e1b5748" class="">🐞 Решение возникающих ошибок</h1><ol type="1" id="37c234c9-611b-4bdb-b4b7-c940489d2914" class="numbered-list" start="1"><li><strong>Ошибка 9090 </strong>— возникает, если не найдена директория с установленной версией Python,<ol type="a" id="6882e1f6-3648-45a6-b125-6ab340629115" class="numbered-list" start="1"><li>Переустановка Python и cтавим галочку <code>Add Python to PATH</code>.</li></ol><ol type="a" id="b36e0619-33d4-41bf-bd3b-5f3e3d66e13e" class="numbered-list" start="2"><li><strong>ИЛИ </strong>указываем путь к директории Python в файле <code>web-ui-user.bat</code>.<figure id="02c59c65-afd0-495f-b403-4a0ff48c8c6a" class="image"><a href="%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0,%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%CC%86%D0%BA%D0%B0%20%D0%B8%20%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B2%D0%B5%D0%B1-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B8%CC%86%D1%81%D0%B0%206db6564f2c424ff390f37a094daf74cb/Untitled.png"><img style="width:659px" src="%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0,%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%CC%86%D0%BA%D0%B0%20%D0%B8%20%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B2%D0%B5%D0%B1-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B8%CC%86%D1%81%D0%B0%206db6564f2c424ff390f37a094daf74cb/Untitled.png"/></a></figure></li></ol></li></ol><ol type="1" id="035e7ab1-fb01-4603-927b-e94a6ec40052" class="numbered-list" start="2"><li><strong>CUDE out of memory</strong> — возникает, если недостаточно VRAM для генерации изображения.<ol type="a" id="ae7dbc1b-306b-4b98-b64a-ffb33442d81f" class="numbered-list" start="1"><li>Использовать параметры из раздела  для уменьшения потребления VRAM за счет увеличения времени генерации изображений.</li></ol><ol type="a" id="2b1e8f32-134d-4e77-98b6-1805aad90ec0" class="numbered-list" start="2"><li>Увеличить VRAM за счет RAM (<a href="https://youtu.be/7E7SFGzhrKQ">Ссылка</a>).</li></ol></li></ol></div></article></body></html>