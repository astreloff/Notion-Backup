# –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å VPN –Ω–∞ VPS?

# ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VPS

1. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –ù–∞–ø—Ä–∏–º–µ—Ä: Ubuntu.
2. –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É: IP-–∞–¥—Ä–µ—Å, —Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø–æ—Ä—Ç (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏).
3. –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä–µ –ø–æ SSH –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–Ω—Å–æ–ª—å Windows –∏–ª–∏ [PuTTY](https://unixhost.pro/clientarea/knowledgebase/13/ssh-podkliuchenie-k-serveru.html).

# ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VPN

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard Easy + GUI

1. –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å/—Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤ –∏ –æ–±–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã –ü–û –¥–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏.
`apt update && apt upgrade -y`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å **Docker**.
    
    ```docker
    curl -sSL https://get.docker.com | sh
    sudo usermod -aG docker $(whoami)
    exit
    ```
    
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å **WireGuard**, —É–¥–∞–ª–∏–≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ —Ç–µ–∫—Å—Ç–µ –∏ –∑–∞–¥–∞–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
    
    <aside>
    ‚ö†Ô∏è ‚Ä¢ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–ø–∏—Å–∞–Ω—ã –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ [WireGuard Easy](https://github.com/WeeJeWel/wg-easy/blob/master/README.md).
    ‚Ä¢ –°–∏–º–≤–æ–ª `\` –≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ, —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫, –ø–æ—ç—Ç–æ–º—É —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞ –Ω–∏–∂–µ –Ω—É–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è **—Ü–µ–ª–∏–∫–æ–º**!
    
    </aside>
    
    ```docker
    .docker run -d \ **(–∑–∞–ø—É—Å–∫–∞–µ–º Docker)**
    --name=wg-easy \
    -e WG_HOST=**(IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –±–µ–∑ —Å–∫–æ–±–æ–∫)** \
    -e PASSWORD=**(–ø—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)** \
    -v ~/.wg-easy:/etc/wireguard \
    -p 51820:51820/udp \
    -p 51821:51821/tcp \
    --cap-add=NET_ADMIN \
    --cap-add=SYS_MODULE \
    --sysctl="net.ipv4.conf.all.src_valid_mark=1" \
    --sysctl="net.ipv4.ip_forward=1" \
    --restart unless-stopped \
    weejewel/wg-easy
    ```
    
4. –ü–µ—Ä–µ–π—Ç–∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
`89.208.142.98:51821` –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –±—Ä–∞—É–∑–µ—Ä–∞.
–ì–¥–µ `51821` ‚Äî TCP –ø–æ—Ä—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ `89.208.142.98`  ‚Äî IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard (easy-wg-quick)

<aside>
‚ÑπÔ∏è –ï—Å–ª–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ–ø–∞–ª–∞ –∫–∞—Ä–µ—Ç–∫–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∫–ª–∞–≤–∏—à `**Ctrl+C**` –∏–ª–∏ `**Ctrl+D**` –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –≤–≤–æ–¥–∞.

</aside>

1. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º WireGuard.
`sudo apt install wireguard`
2. –£—Å—Ç–∞–Ω–æ–≤–∏–º –ø–∞–∫–µ—Ç—ã —É—Ç–∏–ª–∏—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è –≤ —Ç–µ–ª–µ—Ñ–æ–Ω –∏—Å–ø–æ–ª—å–∑—É—è QR-–∫–æ–¥.
`sudo apt install wireguard-tools mawk grep iproute2 qrencode`
3. –°–∫–∞—á–∏–≤–∞–µ–º —Å–∫—Ä–∏–ø—Ç [easy-wg-quick](https://github.com/burghardt/easy-wg-quick) –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ WireGuard.
`wget https://raw.githubusercontent.com/burghardt/easy-wg-quick/master/easy-wg-quick`
4. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –ø—Ä–∞–≤–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞.
`chmod +x easy-wg-quick`
5. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –ø–∏—Ä–∞/–∫–ª–∏–µ–Ω—Ç–∞ (**–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** —Å–µ—Ç–∏).
`./easy-wg-quick`
    1. –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥—Ä—É–≥–æ–π –ø–∏—Ä/–∫–ª–∏–µ–Ω—Ç.
6. –°–∫—Ä–∏–ø—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç QR-–∫–æ–¥ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ VPN.
7. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (—Ç—É–Ω–Ω–µ–ª—è).
`cat wgclient_10.conf` –∏–ª–∏ `cat /etc/wireguard/wgclient_10.conf`
    
    ```jsx
    [Interface]
    Address = 10.127.0.10/24
    DNS = 1.1.1.1
    PrivateKey = WaDsq1e031849jB8QMlr314l;od%62!B1BpDC3L+CvY=
    
    [Peer]
    PublicKey = 0mbasfv56!fghhjDbCsasajkyujZmLi2werwei48iEu4fx0=
    PresharedKey = bjbOtzase6z05s23QcVoiYtaPo1+QWz5SXHgnA232DD49q1@34Bf0=
    AllowedIPs = 0.0.0.0/0, ::/0
    Endpoint = 5.5.5.5:14302
    PersistentKeepalive = 25
    ```
    
8.  –ö–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ **wghub.conf** –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é **/etc/wireguard/wghub.conf**.
`cp wghub.conf /etc/wireguard/wghub.conf`
9. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–∏—Å –∏ –¥–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É.
`systemctl start wg-quick@wghub` –∏
`systemctl enable wg-quick@wghub`

# üßë‚Äçüíª –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

## –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å –ø–∞–∫–µ—Ç–æ–≤ –∏ –æ–±–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã –ü–û

<aside>
‚ÑπÔ∏è –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `apt update && apt upgrade -y` –¥–ª—è –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω–∏—è –æ–±–æ–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å —Ñ–ª–∞–≥–æ–º `-y` —á—Ç–æ–±—ã –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞.

</aside>

1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `apt update` –ø–æ—Å–ª–µ –Ω–æ–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º—ã –∏ –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞/—Å–ø–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤.
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `apt update` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ –ü–û –¥–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏.

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
`./easy-wg-quick –∏–º—è_–ø—Ä–æ—Ñ–∏–ª—è`

## –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

1. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π.
`wg show`

## –ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

1. –ü—Ä–æ—Å–º–æ—Ç—Ä **–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏** —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º —Ñ–∞–π–ª–∞–º–∏ WireGuard.
`ls /etc/wireguard/` –∏–ª–∏ `ls -a` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ (–≤ —Ç.—á. —Å–∫—Ä—ã—Ç—ã—Ö) –∏ `ls ll` –∏–ª–∏ `ls -l` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.
2. –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ **wghub.conf**.
`cat /etc/wireguard/wghub.conf`
3. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º WireGuard.
`cd /etc/wireguard`

## –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∏ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ SSH-–∫–ª—é—á–µ–π

<aside>
‚ÑπÔ∏è –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–ª—é—á–µ–π:
–æ—Ç–∫—Ä—ã—Ç—ã–π ‚Äî¬†**`/–¥–æ–º–∞—à–Ω–∏–π_–∫–∞—Ç–∞–ª–æ–≥/.ssh/id_rsa.pub`**,
–∑–∞–∫—Ä—ã—Ç—ã–π ‚Äî¬†**`/–¥–æ–º–∞—à–Ω–∏–π_–∫–∞—Ç–∞–ª–æ–≥/.ssh/id_rsa`**.

</aside>

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä SSH-–∫–ª—é—á–µ–π.
`ssh-keygen`
2. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –≤—ã–±—Ä–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —É–∫–∞–∑–∞–Ω–∞ –≤ —Å–∫–æ–±–∫–∞—Ö).
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —É–∫–∞–∑–∞—Ç—å –∫–æ–¥–æ–≤—É—é —Ñ—Ä–∞–∑—É –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã (–±—É–¥–µ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å—Å—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ —Å–µ—Ä–≤–µ—Ä—É).

# üìô –¢–µ—Ä–º–∏–Ω—ã

- **WireGuard** ‚Äî –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ VPN –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.
- **wg-easy** ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å WireGuard —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º WireGuard VPN (—Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤, –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—É—Ç–µ–º —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è QR-–∫–æ–¥–∞).
- **SSH (Secure Shell)** ‚Äî —Å–µ—Ç–µ–≤–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É –∫–æ–º–ø—å—é—Ç–µ—Ä—É (—Å–µ—Ä–≤–µ—Ä—É) –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.
    - –ü—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã (—Å–æ–¥–µ—Ä–∂–∞—Ç –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å—ã).
    - SSH —Å–æ–∑–¥–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (–≤ —Ç.—á. –¥–ª—è –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ HTTP –∏ FTP).
    - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ SSH —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–∞ –∏—Å–∫–ª—é—á–∞–µ—Ç —Ä–∏—Å–∫, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑–∞–Ω —Å –ø–æ–¥–±–æ—Ä–æ–º –∏ –≤–∑–ª–æ–º–æ–º –≤–∞—à–µ–≥–æ –ø–∞—Ä–æ–ª—è.
    - –ü—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ —Å–µ—Ä–≤–µ—Ä—É –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–π.
    - –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ SSH –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–Ω–∞—Ç—å: –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ö–æ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞ (IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è) –∏ –ø–∞—Ä–æ–ª—å/–∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è.
    –ù–∞–ø—Ä–∏–º–µ—Ä: `ssh user@0.0.0.0` –∏–ª–∏ `user@serverhost.com`
- **–ö–ª—é—á–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è** ‚Äî **–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á** –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ, –∞ **–ø—É–±–ª–∏—á–Ω—ã–π (–æ—Ç–∫—Ä—ã—Ç—ã–π)** –∫–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ –∫–æ—Ä–Ω–µ–≤–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ –≤ —Ñ–∞–π–ª–µ **authorized_keys** –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –¥—Ä—É–≥–∏–º —Ä–µ—Å—É—Ä—Å–∞–º –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏.
- **–ò–Ω–¥–µ–∫—Å–Ω—ã–π —Ñ–∞–π–ª –ø–∞–∫–µ—Ç–æ–≤** ‚Äî —Ñ–∞–π–ª –∏–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª–µ /etc/apt/sources.list.
    - –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ /etc/apt/sources.list.d.

# üîê–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–¥ **root** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ SSH-–∫–ª—é—á—É –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É –±–µ–∑ –ø–∞—Ä–æ–ª—è:
    1. [–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á](%D0%9A%D0%B0%D0%BA%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C%20VPN%20%D0%BD%D0%B0%20VPS%204792540ed5184922a1ea891270ba6c1c.md).
    2. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä)
    `ssh-copy_id –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è@–∞–¥—Ä–µ—Å_—Å–µ—Ä–≤–µ—Ä–∞`.
    3. –í–≤–µ—Å—Ç–∏ —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å.
3. –û—Ç–∫–ª—é—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –ø–æ –ø–∞—Ä–æ–ª—é –∫ —Å–µ—Ä–≤–µ—Ä—É:
    1. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ SSH –∏ –ø–æ–º–µ–Ω—è—Ç—å `PasswordAuthentication` –Ω–∞ `no`.
    `nano /etc/ssh/sshd_config`
    2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–∏—Å SSH –ø–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.
    `service ssh restart`
4. –ò–∑–º–µ–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª–µ —Ñ–∞–π–ª–µ¬†`wghub.conf`:
    1. **–ü–æ—Ä—Ç** ‚Äî –≤—ã–±—Ä–∞—Ç—å –ª—é–±–æ–π –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π, –ø–æ—Å–ª–µ 50000, —Ç.–∫. –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ —á–∞—â–µ –≤—Å–µ–≥–æ –Ω–µ —Å–∫–∞–Ω–∏—Ä—É—é—Ç —ç—Ç–∏ –ø–æ—Ä—Ç—ã.
    2. **IP-–∞–¥—Ä–µ—Å** ‚Äî –ª—é–±–æ–π —É–¥–æ–±–Ω—ã–π –¥–ª—è –º–µ–Ω—è. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª `portno.txt`.
5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
    1. –ó–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Docker –Ω–µ –ø–æ–¥ root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
    2. –î–æ–±–∞–≤–∏—Ç—å 2FA –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –ø–æ SSH.
    3. –ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π VPN –Ω–∞ –æ—Å–Ω–æ–≤–µ Shadowsocks + v2ray + cloudflare, vpn over https ([–°—Å—ã–ª–∫–∞](https://krasovs.ky/2022/03/19/shadowsocks-and-v2ray-and-cloudflare.html), [–°—Å—ã–ª–∫–∞](https://habr.com/ru/post/555768/), [–°—Å—ã–ª–∫–∞](https://overclockers.ru/blog/Indigo81/show/31739/shadowsocks-cherez-cloudflare-cdn-povyshaem-bezopasnost-v-seti)).
    4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç DDoS-–∞—Ç–∞–∫ ‚Äî iptables, Fail2ban, mangle –∏ —Ç.–¥.
    5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ WireGuard —Ñ–∏–ª—å—Ç—Ä —Ä–µ–∫–ª–∞–º—ã –∏ —Ç—Ä–µ–∫–µ—Ä–æ–≤ ‚Äî Pi-hole, Unbound.

# ‚Ñπ –ò—Å—Ç–æ—á–Ω–∏–∫–∏

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard easy-wg-quick**

- [–°—Ç–∞—Ç—å—è](https://unixhost.pro/clientarea/knowledgebase/63/ustanovka-wireguard.html) –∏ [–≤–∏–¥–µ–æ](https://youtu.be/it8ZoklxceY)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–∞ easy-wg-quick](https://github.com/burghardt/easy-wg-quick)

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ä—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ WireGuard**

- [–í–∏–¥–µ–æ](https://youtu.be/5Aql0V-ta8A)

**–ß—Ç–æ —Ç–∞–∫–æ–µ SSH**

- [–í–∏–¥–µ–æ](https://youtu.be/v45p_kJV9i4)

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard Easy**

- [–°—Ç–∞—Ç—å—è](https://tech.davidfield.co.uk/2022/06/22/wireguard-the-easy-way/) (–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤), [–°—Ç–∞—Ç—å—è](https://dtf.ru/howto/1278689-delaem-bystryy-i-nadezhnyy-vpn-s-32-tb-trafika-na-baze-wireguard-za-15-minut) (–æ–±—Å—É–∂–¥–µ–Ω–∏–µ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ö)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è WireGuard Easy](https://github.com/WeeJeWel/wg-easy)

**–î—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã VPN**

- [–¢—Ä–µ–¥—ã –Ω–∞ –î–≤–∞—á –ø—Ä–æ –æ–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –≤ —Ä–∞–∑–¥–µ–ª–µ /s/](https://2ch.hk/s/catalog.html)
- [SoftEther VPN](https://habr.com/ru/post/566650/) (–Ω–∞–∏–±–æ–ª–µ–µ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–π, –≤ —Å–ª—É—á–∞–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ WireGuard)
- [Shadowsocks + V2Ray + Cloudflare](https://krasovs.ky/2022/03/19/shadowsocks-and-v2ray-and-cloudflare.html), [C–µ—Ä–≤–µ—Ä Shadowsocks](https://habr.com/ru/post/555768/)
- [–û–±—Ñ—É—Å–∫–∞—Ü–∏—è VPN](https://vpn.inform.click/objasnenie-metodov-obfuskacii-vpn-i-zhargona/), [VPN —Å –æ–±—Ñ—É—Å–∫–∞—Ü–∏–µ–π —Ç—Ä–∞—Ñ–∏–∫–∞](https://dtf.ru/ask/847645-vpn-s-obfuskaciey-trafika-kakoy-posovetuete), [–û–±—Ñ—É—Å–∫–∞—Ü–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞](https://wiki.iphoster.net/wiki/VPN_-_%D0%BE%D0%B1%D1%84%D1%83%D1%81%D0%BA%D0%B0%D1%86%D0%B8%D1%8F_%D1%82%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0_-_%D1%87%D1%82%D0%BE_%D1%8D%D1%82%D0%BE_%D1%82%D0%B0%D0%BA%D0%BE%D0%B5)
- [–¢—É–Ω–Ω–µ–ª–∏ –∏ VPN, —É—Å—Ç–æ–π—á–∏–≤—ã–µ –∫ DPI](https://habr.com/ru/post/415977/)